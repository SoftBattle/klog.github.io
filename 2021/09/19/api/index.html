


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>  Api及类型文档 |    KLog.</title>
  <meta name="description" content="KLog&#39;s docs are here.">
  <!-- 标签页图标 -->
  

  <!-- 图标库 -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
  <!-- 动画库 -->
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fushaolei/cdn-white@1.0/css/animate.css"/>
  
  <!-- css文件 -->
  
<link rel="stylesheet" href="/css/white.css">

  <!-- 代码高亮 -->
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body>

<div class="menu-outer">
    <div class="menu-inner">
      <div class="menu-site-name  animate__animated  animate__fadeInUp">
        <a href="/">
          KLog.
        </a>
        
      </div>
      <div class="menu-group">
        <ul class="menu-ul">
        
          <a href="/" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              HOME
            </li>
          </a>
        
          <a href="/archives" class="nav-link">
            <li class="menu-li  animate__animated  animate__fadeInUp">
              DOCS
            </li>
          </a>
        
        
        
          <li class="menu-li animate__animated  animate__fadeInUp" id="mobile-menu">
            <i class="ri-menu-line"></i>
          </li>
        
        </ul>

      </div>

    </div>
</div>
<div id="mobile-main" class="animate__animated  animate__fadeIn">
  <div class="mobile-menu-inner">
    <div class="mobile-menu-site-name animate__animated  animate__fadeInUp">
      <a href="/">
        KLog.
      </a>
    </div>
    <div class="mobile-menu-group" id="mobile-close">
      <i class="ri-close-line"></i>
    </div>

  </div>

  <div class="mobile-menu-div">
  
    <a href="/" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>HOME</span>
      </div>
    </a>
  
    <a href="/archives" class="mobile-nav-link">
      <div class="mobile-menu-child animate__animated  animate__fadeInUp">
        <span>DOCS</span>
      </div>
    </a>
  
  
  </div>


</div>

<div class="body-outer">
  <div class="body-inner">
    
<article class="post-inner">
  <div class="post-content-outer">
    <div class="post-intro">
      <div class="post-title animate__animated  animate__fadeInUp">api及类型文档</div>
      <div class="meta-intro animate__animated  animate__fadeInUp">Sep 19 2021</div>
      
    </div>
    <div class="post-content-inner">
      <div class="post-content-inner-space">

      </div>
      <div class="post-content-main animate__animated  animate__fadeInUp">
        <!-- top型目录 -->
        
        <h1 id="api文档"><a href="#api文档" class="headerlink" title="api文档"></a>api文档</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: application/json;charset=UTF-8</span><br></pre></td></tr></table></figure>

<h2 id="1-用户验证"><a href="#1-用户验证" class="headerlink" title="1 用户验证"></a>1 用户验证</h2><h3 id="1-1-用户注册"><a href="#1-1-用户注册" class="headerlink" title="1.1 用户注册"></a>1.1 用户注册</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/auth/regist</span><br></pre></td></tr></table></figure>

<h4 id="请求参数："><a href="#请求参数：" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
<td></td>
</tr>
<tr>
<td>passwd</td>
<td>string</td>
<td>用户密码</td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&#x27;uid&#x27;: &#x27;cmkk&#x27;,</span><br><span class="line">	&#x27;passwd&#x27;: &#x27;r12345&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回数据"><a href="#返回数据" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	msg: &#x27;注册成功！&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-2-用户登录"><a href="#1-2-用户登录" class="headerlink" title="1.2 用户登录"></a>1.2 用户登录</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/auth/login</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-1"><a href="#请求参数：-1" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
<td></td>
</tr>
<tr>
<td>passwd</td>
<td>string</td>
<td>用户密码</td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&#x27;uid&#x27;: &#x27;cmkk&#x27;,</span><br><span class="line">	&#x27;passwd&#x27;: &#x27;r12345&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回数据-1"><a href="#返回数据-1" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	msg: &#x27;登陆成功！&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例3：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;User_Not_Exist&#x27;,</span><br><span class="line">	msg: &#x27;用户户不存在&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例4：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;User_Passwd_Incorrect&#x27;,</span><br><span class="line">	msg: &#x27;账户或密码错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：用户登录或注册成功时，后台需要生成一个token并将其放入请求头的<code>Cookies</code>中，也即<code>Cookies: token=生成的token</code>，在之后的每次请求中都会携带这个token，后台只需从请求头中取得该token并解析，如此可实现用户验证功能。</p>
<h3 id="1-3-退出登录"><a href="#1-3-退出登录" class="headerlink" title="1.3 退出登录"></a>1.3 退出登录</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/auth/logout</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-2"><a href="#请求参数：-2" class="headerlink" title="请求参数："></a>请求参数：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">无</span><br></pre></td></tr></table></figure>

<p>说明：退出登录操作无需参数，后台根据请求头中的token解析出用户后对其进行token进行过期处理</p>
<h4 id="返回数据-2"><a href="#返回数据-2" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	msg: &#x27;登出成功&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="2-用户"><a href="#2-用户" class="headerlink" title="2 用户"></a>2 用户</h2><h3 id="2-2-获取用户信息"><a href="#2-2-获取用户信息" class="headerlink" title="2.2 获取用户信息"></a>2.2 获取用户信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/user/info</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-3"><a href="#请求参数：-3" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&#x27;uid&#x27;: &#x27;cmll&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：后台通过token验证身份，验证通过则返回uid的用户信息，全用户通用（即获取自己的信息时也需要带上uid）；当uid为空时，返回当前用户（token所指用户）信息。</p>
<h4 id="返回数据-3"><a href="#返回数据-3" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	data: &#123;</span><br><span class="line">		// 用户信息</span><br><span class="line">		uid: &#x27;cmll&#x27;,</span><br><span class="line">		nickname: &#x27;cmLily&#x27;,</span><br><span class="line">		avatar: &#x27;lili.png&#x27;,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-修改密码"><a href="#2-3-修改密码" class="headerlink" title="2.3 修改密码"></a>2.3 修改密码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">put /api/user/passwd</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-4"><a href="#请求参数：-4" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>newPasswd</td>
<td>string</td>
<td>新密码</td>
</tr>
<tr>
<td>oldPasswd</td>
<td>string</td>
<td>旧密码</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	newPasswd: &#x27;r12345&#x27;,</span><br><span class="line">	oldPasswd: &#x27;123456&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回数据-4"><a href="#返回数据-4" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	msg: &#x27;密码修改成功&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-修改昵称"><a href="#2-4-修改昵称" class="headerlink" title="2.4 修改昵称"></a>2.4 修改昵称</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">put /api/user/nickname</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-5"><a href="#请求参数：-5" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>nickname</td>
<td>string</td>
<td>昵称</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&#x27;nickname&#x27;: &#x27;cmKKK&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回数据-5"><a href="#返回数据-5" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	msg: &#x27;成功&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-5-修改头像"><a href="#2-5-修改头像" class="headerlink" title="2.5 修改头像"></a>2.5 修改头像</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">put /api/user/avatar</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-6"><a href="#请求参数：-6" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>avatar</td>
<td>string</td>
<td>图片所在路径</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	avatar: &#x27;lily.png&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="返回数据-6"><a href="#返回数据-6" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	msg: &#x27;成功&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-6-获取用户关注"><a href="#2-6-获取用户关注" class="headerlink" title="2.6 获取用户关注"></a>2.6 获取用户关注</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/user/follows</span><br></pre></td></tr></table></figure>



<h4 id="请求参数：-7"><a href="#请求参数：-7" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
</tr>
<tr>
<td>pageSize</td>
<td>number</td>
<td>分页大小</td>
</tr>
<tr>
<td>pageIndex</td>
<td>number</td>
<td>当前页</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	uid: &#x27;cmkk&#x27;,</span><br><span class="line">	pageSize: 20,</span><br><span class="line">	pageIndex: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：依据uid搜索，对所有用户通用（搜索自己时，也需要带上自己的uid）</p>
<h4 id="返回数据-7"><a href="#返回数据-7" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	data: &#123;</span><br><span class="line">		items: [</span><br><span class="line">			&#123;</span><br><span class="line">				uid: &#x27;cmkk&#x27;,</span><br><span class="line">                nickname: &#x27;cmKangkang&#x27;,</span><br><span class="line">                avatar: &#x27;kk.png&#x27;</span><br><span class="line">			&#125;,</span><br><span class="line">            &#123;</span><br><span class="line">				uid: &#x27;cmll&#x27;,</span><br><span class="line">                nickname: &#x27;cmlily&#x27;,</span><br><span class="line">                avatar: &#x27;ll.png&#x27;</span><br><span class="line">			&#125;,</span><br><span class="line">		],</span><br><span class="line">		total: <span class="number">2</span> <span class="comment">// 搜索结果总数</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-7-获取用户粉丝"><a href="#2-7-获取用户粉丝" class="headerlink" title="2.7 获取用户粉丝"></a>2.7 获取用户粉丝</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/user/followers</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-8"><a href="#请求参数：-8" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
</tr>
<tr>
<td>pageSize</td>
<td>number</td>
<td>分页大小</td>
</tr>
<tr>
<td>pageIndex</td>
<td>number</td>
<td>当前页</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	uid: &#x27;cmkk&#x27;,</span><br><span class="line">	pageSize: 20,</span><br><span class="line">	pageIndex: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：依据uid搜索，对所有用户通用（搜索自己时，也需要带上自己的uid）</p>
<h4 id="返回数据-8"><a href="#返回数据-8" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	data: &#123;</span><br><span class="line">		items: [</span><br><span class="line">			&#123;</span><br><span class="line">				uid: &#x27;cmkk&#x27;,</span><br><span class="line">                nickname: &#x27;cmKangkang&#x27;,</span><br><span class="line">                avatar: &#x27;kk.png&#x27;</span><br><span class="line">			&#125;,</span><br><span class="line">            &#123;</span><br><span class="line">				uid: &#x27;cmll&#x27;,</span><br><span class="line">                nickname: &#x27;cmlily&#x27;,</span><br><span class="line">                avatar: &#x27;ll.png&#x27;</span><br><span class="line">			&#125;,</span><br><span class="line">		],</span><br><span class="line">		total: <span class="number">2</span> <span class="comment">// 搜索结果总数</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-8-获取用户收藏文章"><a href="#2-8-获取用户收藏文章" class="headerlink" title="2.8 获取用户收藏文章"></a>2.8 获取用户收藏文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/user/stars</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-9"><a href="#请求参数：-9" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
</tr>
<tr>
<td>pageSize</td>
<td>number</td>
<td>分页大小</td>
</tr>
<tr>
<td>pageIndex</td>
<td>number</td>
<td>当前页</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	uid: &#x27;cmkk&#x27;,</span><br><span class="line">	pageSize: 20,</span><br><span class="line">	pageIndex: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：依据uid搜索，对所有用户通用（搜索自己时，也需要带上自己的uid）</p>
<h4 id="返回数据-9"><a href="#返回数据-9" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	data: &#123;</span><br><span class="line">		items: [</span><br><span class="line">			&#123;</span><br><span class="line">                pid: &#x27;jiwjisw&#x27;,</span><br><span class="line">                title: &#x27;readme&#x27;,</span><br><span class="line">                authour: &#x27;cmkk&#x27;,</span><br><span class="line">                subTitle: &#x27;说明&#x27;,</span><br><span class="line">                banners: [&#x27;msms.png&#x27;, &#x27;dhwyudhw.png&#x27;],</span><br><span class="line">                tags: [&#x27;js&#x27;],</span><br><span class="line">                view: <span class="number">100</span>,</span><br><span class="line">                ctime: <span class="number">114218327832</span>,</span><br><span class="line">                mtime: <span class="number">114356676767</span>,</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">		],</span><br><span class="line">		total: <span class="number">1</span> <span class="comment">// 搜索结果总数</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-8-获取用户文章"><a href="#2-8-获取用户文章" class="headerlink" title="2.8 获取用户文章"></a>2.8 获取用户文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/user/posts</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-10"><a href="#请求参数：-10" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
</tr>
<tr>
<td>pageSize</td>
<td>number</td>
<td>分页大小</td>
</tr>
<tr>
<td>pageIndex</td>
<td>number</td>
<td>当前页</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	uid: &#x27;cmkk&#x27;,</span><br><span class="line">	pageSize: 20,</span><br><span class="line">	pageIndex: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：依据uid搜索，对所有用户通用（搜索自己时，也需要带上自己的uid）</p>
<h4 id="返回数据-10"><a href="#返回数据-10" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	data: &#123;</span><br><span class="line">		items: [</span><br><span class="line">			&#123;</span><br><span class="line">                pid: &#x27;jiwjisw&#x27;,</span><br><span class="line">                authour: &#x27;cmkk&#x27;,</span><br><span class="line">                title: &#x27;readme&#x27;,</span><br><span class="line">                subTitle: &#x27;说明&#x27;,</span><br><span class="line">                banners: [&#x27;msms.png&#x27;, &#x27;dhwyudhw.png&#x27;],</span><br><span class="line">                tags: [&#x27;js&#x27;],</span><br><span class="line">                view: <span class="number">100</span>,</span><br><span class="line">                ctime: <span class="number">114218327832</span></span><br><span class="line">                mtime: <span class="number">114356676767</span></span><br><span class="line">            &#125;</span><br><span class="line">		],</span><br><span class="line">		total: <span class="number">1</span> <span class="comment">// 搜索结果总数</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-9-关注用户"><a href="#2-9-关注用户" class="headerlink" title="2.9 关注用户"></a>2.9 关注用户</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/user/follow</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-11"><a href="#请求参数：-11" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	uid: &#x27;cmll&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：解析token，将uid代表的用户添加至token代表的用户的follows中</p>
<h4 id="返回数据-11"><a href="#返回数据-11" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-9-取消关注"><a href="#2-9-取消关注" class="headerlink" title="2.9 取消关注"></a>2.9 取消关注</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/user/unfollow</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-12"><a href="#请求参数：-12" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>uid</td>
<td>string</td>
<td>用户id/用户名</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	uid: &#x27;cmll&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：解析token，将uid代表的用户从token代表的用户的follows中移除</p>
<h4 id="返回数据-12"><a href="#返回数据-12" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="3-文章"><a href="#3-文章" class="headerlink" title="3 文章"></a>3 文章</h2><h3 id="3-1-预览-浏览文章"><a href="#3-1-预览-浏览文章" class="headerlink" title="3.1 预览/浏览文章"></a>3.1 预览/浏览文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get /api/post/:pid</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-13"><a href="#请求参数：-13" class="headerlink" title="请求参数："></a>请求参数：</h4><p>无</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get /api/post/hsdwuhdwu</span><br></pre></td></tr></table></figure>

<p>说明：后台需要在在url中取得参数pid，以此返回对应的文章</p>
<h4 id="返回数据-13"><a href="#返回数据-13" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">	data: &#123;</span><br><span class="line">		pid: &#x27;jiwjisw&#x27;,</span><br><span class="line">        authour: &#x27;cmkk&#x27;,</span><br><span class="line">        title: &#x27;readme&#x27;,</span><br><span class="line">        subTitle: &#x27;说明&#x27;,</span><br><span class="line">        content: &#x27;# readme dede&#x27;</span><br><span class="line">        banners: [&#x27;msms.png&#x27;, &#x27;dhwyudhw.png&#x27;],</span><br><span class="line">        tags: [&#x27;js&#x27;],</span><br><span class="line">        view: <span class="number">100</span>,</span><br><span class="line">        ctime: <span class="number">114218327832</span>,</span><br><span class="line">        mtime: <span class="number">114356676767</span>,</span><br><span class="line">		star: <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-新建文章"><a href="#3-2-新建文章" class="headerlink" title="3.2  新建文章"></a>3.2  新建文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/post/new</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-14"><a href="#请求参数：-14" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>title</td>
<td>string</td>
<td>文章标题</td>
</tr>
<tr>
<td>subTitle</td>
<td>string</td>
<td>副标题</td>
</tr>
<tr>
<td>banners</td>
<td>string[]</td>
<td>banner图</td>
</tr>
<tr>
<td>tags</td>
<td>string[]</td>
<td>标签</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>文章正文</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	title: &#x27;readme&#x27;,</span><br><span class="line">    subTitle: &#x27;readme dedefe&#x27;,</span><br><span class="line">    content: &#x27;# readme&#x27;,</span><br><span class="line">    banners: [&#x27;123.png&#x27;],</span><br><span class="line">    tags: [&#x27;js&#x27;, &#x27;react&#x27;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：解析token得到作者。</p>
<h4 id="返回数据-14"><a href="#返回数据-14" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-编辑文章"><a href="#3-3-编辑文章" class="headerlink" title="3.3  编辑文章"></a>3.3  编辑文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">put /api/post/:pid</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-15"><a href="#请求参数：-15" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>title</td>
<td>string</td>
<td>文章标题</td>
</tr>
<tr>
<td>subTitle</td>
<td>string</td>
<td>副标题</td>
</tr>
<tr>
<td>banners</td>
<td>string[]</td>
<td>banner图</td>
</tr>
<tr>
<td>tags</td>
<td>string[]</td>
<td>标签</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>文章正文</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	title: &#x27;readme&#x27;,</span><br><span class="line">    subTitle: &#x27;readme dedefe&#x27;,</span><br><span class="line">    content: &#x27;# readme&#x27;,</span><br><span class="line">    banners: [&#x27;123.png&#x27;],</span><br><span class="line">    tags: [&#x27;js&#x27;, &#x27;react&#x27;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：解析token得到作者，判断是否有权限；在url中获取pid，找到需要更新的的文章。</p>
<h4 id="返回数据-15"><a href="#返回数据-15" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-删除文章"><a href="#3-4-删除文章" class="headerlink" title="3.4  删除文章"></a>3.4  删除文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete /api/post/:pid</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-16"><a href="#请求参数：-16" class="headerlink" title="请求参数："></a>请求参数：</h4><p>无</p>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete /api/post/djuedeuef</span><br></pre></td></tr></table></figure>

<p>说明：解析token得到作者，在url中获取pid，判断是否具有权限删除，能则删除。</p>
<h4 id="返回数据-16"><a href="#返回数据-16" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例3：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;&#x27;,</span><br><span class="line">	msg: &#x27;权限不足&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-5-收藏文章"><a href="#3-5-收藏文章" class="headerlink" title="3.5  收藏文章"></a>3.5  收藏文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/post/unstar</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-17"><a href="#请求参数：-17" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>pid</td>
<td>string</td>
<td>收藏的文章id</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	pid: &#x27;wdwdwswsdw&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：解析token得到作者，将。</p>
<h4 id="返回数据-17"><a href="#返回数据-17" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-6-取消收藏文章"><a href="#3-6-取消收藏文章" class="headerlink" title="3.6  取消收藏文章"></a>3.6  取消收藏文章</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/post/star</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-18"><a href="#请求参数：-18" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>pid</td>
<td>string</td>
<td>收藏的文章id</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	pid: &#x27;wdwdwswsdw&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>说明：解析token得到作者，若该文章已经收藏，则取消收藏，否则收藏。</p>
<h4 id="返回数据-18"><a href="#返回数据-18" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-文件"><a href="#4-文件" class="headerlink" title="4 文件"></a>4 文件</h2><h3 id="4-1-图片上传"><a href="#4-1-图片上传" class="headerlink" title="4.1 图片上传"></a>4.1 图片上传</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post /api/file/upload</span><br></pre></td></tr></table></figure>

<h4 id="请求参数：-19"><a href="#请求参数：-19" class="headerlink" title="请求参数："></a>请求参数：</h4><table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>file</td>
<td>File</td>
<td>图像二进制文件</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 请求体data的值为FormData</span></span><br><span class="line">file: file文件</span><br></pre></td></tr></table></figure>

<p>说明：后台获取上传文件并存储后，返回静态文件地址，在图片展示时需要根据该路径请求文件。</p>
<h4 id="返回数据-19"><a href="#返回数据-19" class="headerlink" title="返回数据"></a>返回数据</h4><p>示例1：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;ok&#x27;,</span><br><span class="line">    data: &#x27;hduwed.png&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	stat: &#x27;Internal_Server_Error&#x27;,</span><br><span class="line">	msg: &#x27;内部错误&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h1 id="类型与键"><a href="#类型与键" class="headerlink" title="类型与键"></a>类型与键</h1><p>用户相关的键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">uid: &#x27;用户id&#x27;,</span><br><span class="line">nickname: &#x27;&#x27;,</span><br><span class="line">avatar: &#x27;&#x27;,</span><br><span class="line">   followers: &#x27;关注我的人&#x27;,</span><br><span class="line">   follows: &#x27;我关注的&#x27;,</span><br><span class="line">   stars: &#x27;文章收藏&#x27;,</span><br><span class="line">   posts: &#x27;我的文章&#x27;,</span><br></pre></td></tr></table></figure>

<p>文章(post)相关的键：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pid: 文章id</span><br><span class="line">author: 作者</span><br><span class="line">title: 文章标题</span><br><span class="line">subTitle: 副标题</span><br><span class="line">tags: 标签，数组</span><br><span class="line">banners: banner图，数组</span><br><span class="line">view: 浏览数，数字</span><br><span class="line">ctime: 创建时间，date</span><br><span class="line">mtime: 最近编辑时间，date</span><br></pre></td></tr></table></figure>

<p>类型：</p>
<ol>
<li><p>用户主页左边tab</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> UserBasicInfo &#123;</span><br><span class="line">    <span class="attr">uid</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">nickname</span>: <span class="built_in">string</span>,</span><br><span class="line">    <span class="attr">avatar</span>: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>文章基础信息，不包含content</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> PostBasicInfo &#123;</span><br><span class="line">    <span class="attr">pid</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">title</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">subTitle</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">banners</span>: <span class="built_in">string</span>[]</span><br><span class="line">    <span class="attr">view</span>: <span class="built_in">number</span></span><br><span class="line">    <span class="attr">ctime</span>: <span class="built_in">Date</span></span><br><span class="line">    <span class="attr">mtime</span>: <span class="built_in">Date</span></span><br><span class="line">    <span class="attr">tags</span>: <span class="built_in">string</span>[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>文章详细信息，包含content与收藏信息</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Post &#123;</span><br><span class="line">    <span class="attr">pid</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">authour</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">title</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">subTitle</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">content</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">banners</span>: <span class="built_in">string</span>[]</span><br><span class="line">    <span class="attr">tags</span>: <span class="built_in">string</span>[]</span><br><span class="line">    <span class="attr">view</span>: <span class="built_in">number</span></span><br><span class="line">    <span class="attr">ctime</span>: <span class="built_in">Date</span></span><br><span class="line">    <span class="attr">mtime</span>: <span class="built_in">Date</span></span><br><span class="line"> <span class="attr">star</span>: <span class="built_in">boolean</span> <span class="comment">// 收藏与否</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>新建文章</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> NewPost &#123;</span><br><span class="line">	<span class="attr">title</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">subTitle</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">content</span>: <span class="built_in">string</span></span><br><span class="line">    <span class="attr">banners</span>: <span class="built_in">string</span>[]</span><br><span class="line">    <span class="attr">tags</span>: <span class="built_in">string</span>[]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

        <!-- 分类文章 -->
        
      </div>
      <div class="post-content-inner-space">
        
          <div class="space-toc-main animate__animated  animate__fadeInUp">
            <ol class="space-toc"><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#1-%E7%94%A8%E6%88%B7%E9%AA%8C%E8%AF%81"><span class="space-toc-text">1 用户验证</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#2-%E7%94%A8%E6%88%B7"><span class="space-toc-text">2 用户</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#3-%E6%96%87%E7%AB%A0"><span class="space-toc-text">3 文章</span></a></li><li class="space-toc-item space-toc-level-2"><a class="space-toc-link" href="#4-%E6%96%87%E4%BB%B6"><span class="space-toc-text">4 文件</span></a></li></ol>
           </div>
        
      </div>
   </div>
    <!-- 评论 -->
    
  </div>
</article>
  </div>
</div>



<!-- 如果是home模式的话，不在首页就显示footer，如果不是home模式的话 所有都显示footer -->

  <div class="footer-outer animate__animated  animate__fadeInUp">
    <div class="footer-inner">
    <div class="footer-text">
    <p>Power by <a target="_blank" rel="noopener" href="https://github.com/SoftBattle">SoftBattle</a></p>

    </div>
    <div class="footer-contact">
    <ul class="footer-ul">
        
        <li class="footer-li">
            <a href="https://github.com/SoftBattle" target="_blank">
                <i class="ri-github-line"></i>
            </a>
        </li>
        
    </ul>
    </div>
    </div>
</div>






<script src="/js/white.js"></script>



</body>
</html>
